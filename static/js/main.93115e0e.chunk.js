(this.webpackJsonpbroraci=this.webpackJsonpbroraci||[]).push([[0],{115:function(e,t,n){e.exports=n(137)},137:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(20),c=n.n(o),i=n(24),u=n(84);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var l=n(16),s=n(23),p=n.n(s);p.a.initializeApp(Object(l.a)({},{authDomain:"broracci.firebaseapp.com",databaseURL:"https://broracci.firebaseio.com",projectId:"broracci",storageBucket:"broracci.appspot.com",messagingSenderId:"59818664178",appId:"1:59818664178:web:edfb640334e5eeed8b706b"},{apiKey:"AIzaSyBzWqPiPP_zM2l0a1jKFCE1C2hxPF5HLLc"}));var m=p.a.firestore(),d=n(10),h=n(13),f=n(12),v=n(14),E=n(15),g=n(5),b=n.n(g),O=n(8),y=n(189),C=n(181),j=n(174),k=n(182),S=n(183),w=n(139),A=n(179),x=n(46),M=n(184),R=n(82),P=n.n(R),I=n(79),N=n(207),L=n(208),B=n(2),W=n.n(B),G=function(){return{uid:W.a.string,displayName:W.a.string,email:W.a.string,photoUrl:W.a.string,phoneNumber:W.a.string,roles:[]}},D=Object(j.a)((function(e){return{blue:{color:e.palette.getContrastText(I.a[500]),backgroundColor:I.a[500]}}}));function T(e){var t=e.account,n=t.displayName,a=t.photoUrl,o=e.onClick,c=D(),i=a&&a.lenght>0||""===n?r.a.createElement(N.a,{alt:n,src:a}):r.a.createElement(N.a,{alt:n,className:c.blue},n.substring(0,1));return r.a.createElement(L.a,{title:n,onClick:o||null},o?r.a.createElement(A.a,null,i):r.a.createElement("span",null,r.a.createElement(A.a,{disabled:!0},i)))}T.defaultProps={account:{displayName:"",photoUrl:null},onClick:null};var U=Object(j.a)((function(){return{root:{display:"flex"}}}));function H(e){var t=e.users,n=U();return t||0===t.lenght?r.a.createElement("div",{className:n.root},t.map((function(e){return r.a.createElement(T,{key:e.uid,account:e})}))):r.a.createElement("div",null)}H.defaultProps={users:[]};var z=n(180),F=n(85),q=n.n(F);function _(e){var t=e.amount,n=e.onClick;return r.a.createElement(L.a,{title:"Notifica\xe7\xf5es",onClick:n},r.a.createElement(A.a,null,t>0?r.a.createElement(z.a,{max:9,badgeContent:t,color:"error"},r.a.createElement(q.a,{fontSize:"large"})):r.a.createElement(q.a,{fontSize:"large"})))}_.defaultProps={amount:0,onClick:null};var K=n(42),J=n(143),$=n(7),Q=n(99),V=n.n(Q),X=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).textInput=r.a.createRef(),a.focusTextInput=a.focusTextInput.bind(Object(K.a)(a)),a}return Object(f.a)(n,[{key:"focusTextInput",value:function(){this.textInput.current.focus()}},{key:"render",value:function(){var e=this.props,t=e.classes,n=e.onChange;return r.a.createElement(C.a,{className:t.root},r.a.createElement(J.a,{classes:{input:t.input},inputRef:this.textInput,placeholder:"Procurar\u2026",inputProps:{"aria-label":"search"},onChange:n}),r.a.createElement(L.a,{onClick:this.focusTextInput,title:"Procurar"},r.a.createElement(A.a,null,r.a.createElement(V.a,{fontSize:"large"}))))}}]),n}(r.a.Component);X.defaultProps={onChange:null};var Y=Object($.a)((function(e){return{root:{display:"flex"},input:Object(d.a)({transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"0ch","&:focus":{width:"20ch"}})}}))(X),Z=Object(j.a)((function(){return{spacer:{flexGrow:1},root:{display:"flex"}}}));function ee(e){var t=e.title,n=e.account,a=e.users,o=e.amountNotifications,c=e.stateLogin,i=e.onSideMenu,u=e.onLogin,l=e.onAccount,s=e.onNotification,p=e.onSearch,m=e.isSideMenu,d=Z();return r.a.createElement(k.a,{color:"transparent"},r.a.createElement(S.a,null,r.a.createElement(w.a,{in:!m},r.a.createElement(C.a,{container:!0,alignItems:"center",className:d.root},r.a.createElement(A.a,{edge:"start",color:"inherit","aria-label":"menu",onClick:i},r.a.createElement(P.a,null)),r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{variant:"h5"},t)))),r.a.createElement(C.a,{container:!0,direction:"row-reverse"},"NOT_LOGGED"===c?r.a.createElement(T,{account:{displayName:"Fazer Log-In",photoUrl:"",state:"HAS_IMAGE"},onClick:u}):r.a.createElement(C.a,{className:d.root},r.a.createElement(H,{users:a}),r.a.createElement(M.a,{orientation:"vertical",variant:"middle",flexItem:!0}),r.a.createElement(Y,{onChange:p}),r.a.createElement(_,{amount:o,onClick:s}),r.a.createElement(T,{id:"AccountMenuButton",account:n,onClick:l})))))}ee.defaultProps={title:"",account:{},users:[],amountNotifications:0,stateLogin:"NOT_LOGGED",onSideMenu:function(){},onLogin:function(){},onAccount:function(){},onNotification:function(){},onSearch:function(){},isSideMenu:!1};var te=n(104),ne=n(187),ae=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={matrices:[]},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.matrices.length>0&&this.setState({matrices:this.props.matrices})}},{key:"render",value:function(){var e=this.state.matrices,t=this.props,n=t.element,a=t.onClose,o=t.onAccount,c=t.onExit,i=t.onClick,u=t.open;return r.a.createElement(te.a,{id:"menu-account",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:a},r.a.createElement(ne.a,{onClick:o},"Minha Conta"),r.a.createElement(M.a,null),e.length>0?r.a.createElement("div",null,e.map((function(e){return r.a.createElement(ne.a,{key:e.uid,onClick:i},e.title)})),r.a.createElement(M.a,null)):r.a.createElement("div",null),r.a.createElement(ne.a,{onClick:c},"Sair"))}}]),n}(r.a.Component);ae.defaultProps={open:!1,matrices:[],onClick:function(){}};var re=ae,oe=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={notifications:[]},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){this.props.notifications.length>0&&this.setState({notifications:this.props.notifications})}},{key:"render",value:function(){var e=this.state.notifications,t=this.props,n=t.element,a=t.onClose,o=t.onClick,c=t.open;return r.a.createElement(te.a,{id:"menu-notification",anchorEl:n,anchorOrigin:{vertical:"top",horizontal:"right"},keepMounted:!0,transformOrigin:{vertical:"top",horizontal:"right"},open:c,onClose:a},e.length>0?r.a.createElement("div",null,e.map((function(e){return r.a.createElement(ne.a,{key:e.uid,onClick:o},r.a.createElement(z.a,{color:"secondary",variant:"dot",invisible:!e.notRead},r.a.createElement(x.a,null,e.title)))}))):r.a.createElement(ne.a,{disabled:!0},r.a.createElement(x.a,{variant:"caption",color:"textSecondary"},"N\xe3o h\xe1 notifica\xe7\xf5es!")))}}]),n}(r.a.Component);oe.defaultProps={open:!1,notifications:[],onClick:function(){}};var ce=oe,ie=n(142),ue=n(188),le=n(190),se=n(191),pe=n(192),me=n(193),de=n(205),he=n(195),fe=n(206),ve=n(196),Ee=n(197),ge=n(77),be=n.n(ge),Oe=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e){"remember"===e.target.id?a.setState((function(e){return{remember:!e.remember}})):a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){return e.preventDefault(),(0,a.props.onLogin)(Object(l.a)({},a.state)),!1},a.handleClose=function(e){e.preventDefault();var t=a.props.onClose;"back-grid"===e.target.id&&t(e)},a.state={email:"",password:"",remember:!1},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state,t=e.email,n=e.password,a=e.remember,o=this.props,c=o.classes,i=o.open,u=o.onClose,l=o.onCreateA,s=o.onPasswordR;return r.a.createElement(ie.a,{open:i,onClose:u,closeAfterTransition:!0,BackdropComponent:ue.a,BackdropProps:{timeout:500}},r.a.createElement(w.a,{in:i},r.a.createElement(C.a,{id:"back-grid",container:!0,justify:"center",alignItems:"center",className:c.root},r.a.createElement(y.a,{maxWidth:"xs"},r.a.createElement(le.a,null,r.a.createElement(se.a,{title:"Log-in",action:r.a.createElement(A.a,{onClick:u},r.a.createElement(be.a,null))}),r.a.createElement(pe.a,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(de.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-mail",name:"email",autoComplete:"email",autoFocus:!0,value:t,onChange:this.handleChange})),r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(de.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password",value:n,onChange:this.handleChange})),r.a.createElement(he.a,{control:r.a.createElement(fe.a,{id:"remember",value:a,color:"primary",onChange:this.handleChange}),label:"Lembrar me",onChange:this.handleChange}),r.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Acessar"))),r.a.createElement(Ee.a,null,r.a.createElement(C.a,{container:!0,spacing:4},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(ve.a,{color:"primary",variant:"text",onClick:s},r.a.createElement(x.a,{variant:"body2"},"Esqueceu a senha?"))),r.a.createElement(C.a,{item:!0},r.a.createElement(ve.a,{color:"primary",variant:"text",onClick:l},r.a.createElement(x.a,{variant:"body2"},"Criar uma conta"))))))))))}}]),n}(r.a.Component),ye=Object($.a)((function(){return{root:{height:"100%"}}}))(Oe),Ce=n(78),je=n.n(Ce),ke=n(100),Se=n.n(ke),we=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e){"remember"===e.target.id?a.setState((function(e){return{remember:!e.remember}})):a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){return e.preventDefault(),(0,a.props.onSignup)(Object(l.a)({},a.state)),!1},a.handleClose=function(e){e.preventDefault();var t=a.props.onClose;"back-grid"===e.target.id&&t(e)},a.state={displayName:"",email:"",password:"",phoneNumber:"",photoUrl:"",remember:!1},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state,t=e.displayName,n=e.email,a=e.password,o=e.phoneNumber,c=e.photoUrl,i=this.props,u=i.classes,l=i.open,s=i.onBack,p=i.onClose,m=i.onPhoto;return r.a.createElement(ie.a,{open:l,onClose:p,closeAfterTransition:!0,BackdropComponent:ue.a,BackdropProps:{timeout:500}},r.a.createElement(w.a,{in:l},r.a.createElement(C.a,{id:"back-grid",container:!0,justify:"center",alignItems:"center",className:u.root},r.a.createElement(y.a,{maxWidth:"xs"},r.a.createElement(le.a,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(se.a,{title:"Criar uma Conta",action:r.a.createElement(A.a,{onClick:s},r.a.createElement(je.a,null))}),r.a.createElement(pe.a,null,r.a.createElement(C.a,{container:!0,justify:"center"},r.a.createElement(C.a,{item:!0},r.a.createElement(L.a,{title:"Selecionar Foto de Perfil"},r.a.createElement(A.a,{onClick:m},r.a.createElement(N.a,{className:u.avatar,src:c,style:""!==c?{backgroundColor:""}:null},r.a.createElement(Se.a,null)))))),r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(de.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"displayName",label:"Nome Completo",name:"displayName",autoComplete:"displayName",autoFocus:!0,value:t,onChange:this.handleChange})),r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(de.a,{variant:"outlined",margin:"normal",fullWidth:!0,id:"phoneNumber",label:"Celular",name:"phoneNumber",autoComplete:"phoneNumber",type:"tel",autoFocus:!0,value:o,onChange:this.handleChange})),r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(de.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-mail",name:"email",autoComplete:"email",type:"email",autoFocus:!0,value:n,onChange:this.handleChange})),r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(de.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Senha",type:"password",id:"password",autoComplete:"current-password",value:a,onChange:this.handleChange}))),r.a.createElement(Ee.a,null,r.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Criar"))))))))}}]),n}(r.a.Component),Ae=Object($.a)((function(e){return{root:{height:"100%"},avatar:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,width:e.spacing(7),height:e.spacing(7)}}}))(we),xe=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){return e.preventDefault(),(0,a.props.onRecovery)(Object(l.a)({},a.state)),!1},a.handleClose=function(e){e.preventDefault();var t=a.props.onClose;"back-grid"===e.target.id&&t(e)},a.state={email:""},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.email,t=this.props,n=t.classes,a=t.open,o=t.onBack,c=t.onClose;return r.a.createElement(ie.a,{open:a,onClose:c,closeAfterTransition:!0,BackdropComponent:ue.a,BackdropProps:{timeout:500}},r.a.createElement(w.a,{in:a},r.a.createElement(C.a,{id:"back-grid",container:!0,justify:"center",alignItems:"center",className:n.root},r.a.createElement(y.a,{maxWidth:"xs"},r.a.createElement(le.a,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(se.a,{title:"Recuperar a Senha",action:r.a.createElement(A.a,{onClick:o},r.a.createElement(je.a,null))}),r.a.createElement(pe.a,null,r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(de.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-mail da Conta",name:"email",autoComplete:"email",autoFocus:!0,value:e,onChange:this.handleChange}))),r.a.createElement(Ee.a,null,r.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Recuperar"))))))))}}]),n}(r.a.Component),Me=Object($.a)((function(e){return{root:{height:"100%"},avatar:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,width:e.spacing(7),height:e.spacing(7)}}}))(xe),Re=function(){return{uid:W.a.string,character:W.a.string,name:W.a.string,description:W.a.string,unique:W.a.bool,required:W.a.bool}},Pe=n(35),Ie=n.n(Pe),Ne=n(49),Le=n.n(Ne),Be=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleMouseOver=function(){a.setState({show:!0})},a.handleMouseOut=function(){a.setState({show:!1})},a.state={show:!1},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.show,t=this.props,n=t.user,a=t.onRemove;return r.a.createElement(C.a,{id:"grid-user",container:!0,direction:"row",alignItems:"center",justify:"space-between",onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},r.a.createElement(C.a,{item:!0},r.a.createElement(T,{account:n})),r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,null,n.displayName),r.a.createElement(x.a,{variant:"caption",color:"textSecondary"},n.email)),r.a.createElement(w.a,{in:e},r.a.createElement(C.a,{item:!0},r.a.createElement(L.a,{title:"Remover Usu\xe1rio"},r.a.createElement(A.a,{onClick:a},r.a.createElement(Le.a,null))))))}}]),n}(r.a.Component),We=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleSubmit=function(e){return e.preventDefault(),(0,a.props.onAdd)(Object(l.a)({},a.state)),!1},a.handleClose=function(e){e.preventDefault();var t=a.props.onClose;"back-grid"===e.target.id&&t(e)},a.state={email:""},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.email,t=this.props,n=t.classes,a=t.open,o=t.onClose;return r.a.createElement(ie.a,{open:a,onClose:o,closeAfterTransition:!0,BackdropComponent:ue.a,BackdropProps:{timeout:500}},r.a.createElement(w.a,{in:a},r.a.createElement(C.a,{id:"back-grid",container:!0,justify:"center",alignItems:"center",className:n.root},r.a.createElement(y.a,{maxWidth:"xs"},r.a.createElement(le.a,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement(se.a,{title:"Adicionar Membro",action:r.a.createElement(A.a,{onClick:o},r.a.createElement(be.a,null))}),r.a.createElement(pe.a,null,r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(de.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"E-mail da Conta",name:"email",autoComplete:"email",autoFocus:!0,value:e,onChange:this.handleChange}))),r.a.createElement(Ee.a,null,r.a.createElement(ve.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary"},"Adicionar"))))))))}}]),n}(r.a.Component),Ge=Object($.a)((function(e){return{root:{height:"100%"},avatar:{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.main,width:e.spacing(7),height:e.spacing(7)}}}))(We),De=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleAddMember=function(){a.setState((function(e){return{isAddMemberOpen:!e.isAddMemberOpen}}))},a.state={isAddMemberOpen:!1},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.isAddMemberOpen,t=this.props,n=t.users,a=t.onAdd,o=t.onRemove;return r.a.createElement(y.a,{maxWidth:"sm"},r.a.createElement(C.a,{container:!0,spacing:3,direction:"column"},r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,null,"Membros"),r.a.createElement(x.a,{variant:"body2"},"".concat(n.length," membros"))),n.map((function(e){return r.a.createElement(C.a,{item:!0},r.a.createElement(Be,{user:e,onRemove:o}))})),r.a.createElement(C.a,{item:!0},r.a.createElement(ve.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(Ie.a,null),onClick:this.handleAddMember},r.a.createElement(x.a,{variant:"body2"},"Adicionar Membro")))),r.a.createElement(Ge,{open:e,onClose:this.handleAddMember,onAdd:a}))}}]),n}(r.a.Component);De.defaultProps={users:[],onRemove:function(){}};var Te=De,Ue={login:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.auth().setPersistence(t.remember?p.a.auth.Auth.Persistence.LOCAL:p.a.auth.Auth.Persistence.SESSION);case 3:return e.next=5,p.a.auth().signInWithEmailAndPassword(t.email,t.password);case 5:return e.abrupt("return",!0);case 8:return e.prev=8,e.t0=e.catch(0),e.abrupt("return",!1);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),signup:function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,p.a.auth().createUserWithEmailAndPassword(t.email,t.password);case 3:return e.next=5,p.a.auth().signInWithEmailAndPassword(t.email,t.password);case 5:return e.next=7,p.a.auth().currentUser.updateProfile(t);case 7:return n=p.a.auth().currentUser,m.collection("users").doc(n.uid).set({displayName:n.displayName,photoURL:n.photoURL,email:n.email,phoneNumber:n.phoneNumber}),e.abrupt("return",!0);case 12:return e.prev=12,e.t0=e.catch(0),console.log(e.t0),e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(t){return e.apply(this,arguments)}}(),logout:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.auth().signOut();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),get:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",p.a.auth().currentUser);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getByEmail:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("users").where("email","==",t).get().then((function(e){var t=null;return e.forEach((function(e){t=e.data()})),t})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sync:function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("users").onSnapshot((function(e){var a=[];e.forEach((function(e){return a.push(Object(l.a)({},e.data(),{uid:e.id}))})),n(t,a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),syncById:function(){var e=Object(O.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("users").doc(a).onSnapshot((function(e){n(t,Object(l.a)({},e.data(),{uid:e.id}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}()},He={get:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("raci").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sync:function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("raci").onSnapshot((function(e){var a=[];e.forEach((function(e){return a.push(e)})),n(t,a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getById:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("raci").doc(t).get();case 2:return e.abrupt("return",e.sent.data());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),syncById:function(){var e=Object(O.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("raci").doc(a).onSnapshot((function(e){n(t,Object(l.a)({},e.data(),{uid:e.id}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("raci").doc(t.uid).set(Object(l.a)({},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ze=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleAdd=function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.raci,e.abrupt("return",Ue.getByEmail(t.email).then((function(e){return!!e&&(n.users.push(e),He.update(n),!0)})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.state={},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.props.users;return r.a.createElement(Te,{users:e,onAdd:this.handleAdd})}}]),n}(r.a.Component),Fe={add:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("role").add(t);case 2:return e.abrupt("return",e.sent.get().then((function(e){return e})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("role").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sync:function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("role").onSnapshot((function(e){var a=[];e.forEach((function(e){return a.push(e.data())})),n(t,a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getById:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("role").doc(t).get();case 2:return e.abrupt("return",e.sent.data());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),syncById:function(){var e=Object(O.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("role").doc(a).onSnapshot((function(e){n(t,Object(l.a)({},e.data(),{uid:e.id}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("role").doc(t.uid).set(Object(l.a)({},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},qe=n(209),_e=n(194),Ke=n(198),Je=n(62),$e=n.n(Je),Qe=n(61),Ve=n.n(Qe),Xe=function(){return{uid:W.a.string,title:W.a.string}},Ye=n(185),Ze=n(186),et=n(140),tt=n(83),nt=n.n(tt),at=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleMouseOver=function(){a.setState({show:!0})},a.handleMouseOut=function(){a.setState({show:!1})},a.state={show:!1},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.show,t=this.props,n=t.group,a=t.onClick,o=t.onRemove;return r.a.createElement(C.a,{id:"grid-group",container:!0,direction:"row",alignItems:"center",justify:"space-between",spacing:2,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},r.a.createElement(C.a,{item:!0,onClick:a},r.a.createElement(x.a,{key:n.uid},n.title)),r.a.createElement(w.a,{in:e},r.a.createElement(C.a,{item:!0},r.a.createElement(L.a,{title:"Remover Grupo",name:"remove"},r.a.createElement(A.a,{onClick:o,size:"small",name:"remove"},r.a.createElement(Le.a,{name:"remove"}))))))}}]),n}(r.a.Component),rt=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handlePopover=function(e){e.persist(),a.setState((function(t){return{element:e.target,open:!t.open}}))},a.handleAdd=function(){a.setState((function(e){return{isAdd:!e.isAdd}}))},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleRemove=function(e,t){e.persist();var n=a.props.onRemove;t&&n(t)},a.handleSelect=function(e,t){e.persist();var n=a.props.onSelect;t&&n(t)},a.state={open:!1,isAdd:!1,element:null,title:""},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.open,a=t.isAdd,o=t.element,c=t.title,i=this.props,u=i.group,l=i.groups,s=i.onAdd;return r.a.createElement(y.a,null,r.a.createElement(ve.a,{variant:"outlined",endIcon:r.a.createElement(nt.a,null),onClick:this.handlePopover},u?u.title:"Grupo"),r.a.createElement(Ye.a,{open:n,onClose:this.handlePopover,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Ze.a,null,l.map((function(t){return r.a.createElement(et.a,{key:t.uid,button:!0},r.a.createElement(at,{group:t,onClick:function(n){return e.handleSelect(n,t)},onRemove:function(n){return e.handleRemove(n,t)}}))})),a?r.a.createElement(et.a,{key:"form-group"},r.a.createElement(w.a,{in:a},r.a.createElement(C.a,{item:!0},r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(qe.a,null,"Grupo"),r.a.createElement(_e.a,{id:"title",value:c,onChange:this.handleChange,endAdornment:r.a.createElement(Ke.a,{position:"end"},r.a.createElement(A.a,{onClick:this.handleAdd},r.a.createElement(Ve.a,null)),r.a.createElement(A.a,{onClick:function(){return s({title:c})}},r.a.createElement($e.a,null)))}))))):r.a.createElement("div",null),r.a.createElement(et.a,{key:"add-group",button:!0,onClick:this.handleAdd},r.a.createElement(C.a,{id:"grid-group",container:!0,direction:"row",alignItems:"center",spacing:1},r.a.createElement(C.a,{item:!0},r.a.createElement(Ie.a,{color:"primary"})),r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{variant:"body1",color:"primary"},"Adicionar Grupo")))))))}}]),n}(r.a.Component);rt.defaultProps={group:null,groups:[]},rt.propsType={group:W.a.shape(Xe),groups:W.a.arrayOf(W.a.shape(Xe)),onAdd:W.a.func,onRemove:W.a.func,onSelect:W.a.func};var ot=rt,ct=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleMouseOver=function(){var e=a.props,t=e.onOver,n=e.role;t&&t(n),a.setState({show:!0})},a.handleMouseOut=function(){a.setState({show:!1})},a.state={show:!1},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.show,t=this.props,n=t.groups,a=t.role,o=t.onRemove,c=t.onAddGroup,i=t.onRemoveGroup,u=t.onSelectGroup;return r.a.createElement(C.a,{id:"grid-role",container:!0,direction:"row",alignItems:"center",justify:"space-between",spacing:2,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{key:a.uid},a.title)),r.a.createElement(C.a,{item:!0},r.a.createElement(ot,{group:a.group,groups:n,onAdd:c,onRemove:i,onSelect:u})),r.a.createElement(w.a,{in:e},r.a.createElement(C.a,{item:!0},r.a.createElement(L.a,{title:"Remover Cargo",name:"remove"},r.a.createElement(A.a,{onClick:o,size:"small",name:"remove"},r.a.createElement(Le.a,{name:"remove"}))))))}}]),n}(r.a.Component);ct.defaultProps={groups:[]};var it=ct,ut=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleAddRole=function(){a.setState((function(e){return{isAdd:!e.isAdd}}))},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleOver=function(e){a.setState({selectedRole:e})},a.handleSelectGroup=function(e){var t=a.state.selectedRole;(0,a.props.onSelectGroup)(e,t)},a.state={isAdd:!1,title:"",selectedRole:null},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.title,a=t.isAdd,o=this.props,c=o.roles,i=o.groups,u=o.onAdd,l=o.onRemove,s=o.onAddGroup,p=o.onRemoveGroup;o.onSelectGroup;return r.a.createElement(y.a,{maxWidth:"sm"},r.a.createElement(C.a,{container:!0,spacing:3,direction:"column"},r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,null,"Cargos"),r.a.createElement(x.a,{variant:"body2"},"".concat(c.length," cargos"))),c.map((function(t){return r.a.createElement(C.a,{item:!0,key:t.uid},r.a.createElement(it,{role:t,groups:i,onRemove:l,onAddGroup:s,onRemoveGroup:p,onSelectGroup:e.handleSelectGroup,onOver:e.handleOver}))})),a?r.a.createElement(w.a,{in:a},r.a.createElement(C.a,{item:!0},r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(qe.a,null,"Cargo"),r.a.createElement(_e.a,{id:"title",value:n,onChange:this.handleChange,endAdornment:r.a.createElement(Ke.a,{position:"end"},r.a.createElement(A.a,{onClick:this.handleAddRole},r.a.createElement(Ve.a,null)),r.a.createElement(A.a,{onClick:function(){return u({title:n})}},r.a.createElement($e.a,null)))})))):r.a.createElement("div",null),r.a.createElement(w.a,{in:!a},r.a.createElement(C.a,{item:!0},r.a.createElement(ve.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(Ie.a,null),onClick:this.handleAddRole,fullWidth:!0},r.a.createElement(x.a,{variant:"body2"},"Adicionar Cargo"))))))}}]),n}(r.a.Component);ut.defaultProps={roles:[],groups:[],onRemove:function(){}};var lt=ut,st={add:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("group").add(t);case 2:return e.abrupt("return",e.sent.get().then((function(e){return e})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("group").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sync:function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("group").onSnapshot((function(e){var a=[];e.forEach((function(e){return a.push(Object(l.a)({},e.data(),{uid:e.id}))})),n(t,a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getById:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("group").doc(t).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),syncById:function(){var e=Object(O.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("group").doc(a).onSnapshot((function(e){n(t,Object(l.a)({},e.data(),{uid:e.id}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("group").doc(t.uid).set(Object(l.a)({},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},pt=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e,t,n){if(n){var r=a.state[e];r[n]=t||void 0,a.setState(Object(d.a)({},e,r))}else a.setState(Object(d.a)({},e,t||void 0))},a.handleChangeRole=function(e,t){var n=a.state.roles;n[e]=t||void 0,a.setState({roles:n})},a.handleAdd=function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.raci,Fe.add(t).then((function(e){n.roles.push(e.ref),He.update(n)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRemove=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleAddGroup=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:st.add(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRemoveGroup=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSelectGroup=function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:st.getById(t.uid).then((function(e){e&&(n.group=e.data(),Fe.update(n))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.state={raci:null,roles:[],groups:[]},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;He.syncById("raci",(function(t,n){e.setState({raci:n}),n&&n.roles.map((function(t,n){return Fe.syncById(n,e.handleChangeRole,t.id)}))}),t.params.raci),st.sync("groups",this.handleChange)}},{key:"render",value:function(){var e=this.state,t=e.roles,n=e.groups;return r.a.createElement(lt,{roles:t,groups:n,onAdd:this.handleAdd,onRemove:this.handleRemove,onAddGroup:this.handleAddGroup,onRemoveGroup:this.handleRemoveGroup,onSelectGroup:this.handleSelectGroup})}}]),n}(r.a.Component),mt={add:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("activity").add(t);case 2:return e.abrupt("return",e.sent.get().then((function(e){return e})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("activity").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sync:function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("activity").onSnapshot((function(e){var a=[];e.forEach((function(e){return a.push(Object(l.a)({},e.data(),{uid:e.id}))})),n(t,a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getById:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("activity").doc(t).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),syncById:function(){var e=Object(O.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("activity").doc(a).onSnapshot((function(e){n(t,Object(l.a)({},e.data(),{uid:e.id}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("activity").doc(t.uid).set(Object(l.a)({},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},dt=(n(199),function(){return{uid:W.a.string,user:W.a.objectOf(W.a.shape(G)),rules:W.a.arrayOf(W.a.shape(Re))}}),ht=function(){return{uid:W.a.string,title:W.a.string}},ft=n(200),vt=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleMouseOver=function(){a.setState({show:!0})},a.handleMouseOut=function(){a.setState({show:!1})},a.state={show:!1},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state.show,t=this.props,n=t.step,a=t.onClick,o=t.onRemove;return r.a.createElement(C.a,{id:"grid-step",container:!0,direction:"row",alignItems:"center",justify:"space-between",spacing:2,onMouseOver:this.handleMouseOver,onFocus:this.handleMouseOver,onMouseOut:this.handleMouseOut,onBlur:this.handleMouseOut},r.a.createElement(C.a,{item:!0,onClick:a},r.a.createElement(x.a,{key:n.uid},n.title)),r.a.createElement(w.a,{in:e},r.a.createElement(C.a,{item:!0},r.a.createElement(L.a,{title:"Remover Etapa",name:"remove"},r.a.createElement(A.a,{onClick:o,size:"small",name:"remove"},r.a.createElement(Le.a,{name:"remove"}))))))}}]),n}(r.a.Component),Et=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handlePopover=function(e){e.persist(),a.setState((function(t){return{element:e.target,open:!t.open}}))},a.handleAdd=function(){a.setState((function(e){return{isAdd:!e.isAdd}}))},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleRemove=function(e,t){e.persist();var n=a.props.onRemove;t&&n(t)},a.handleSelect=function(e,t){e.persist();var n=a.props.onSelect;t&&n(t)},a.getProgress=function(e){var t=a.props.steps;return 100*(t.indexOf(t.find((function(t,n){return t.uid===e.uid})))+1)/(t.length+1)},a.state={open:!1,isAdd:!1,element:null,title:""},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.open,a=t.isAdd,o=t.element,c=t.title,i=this.props,u=i.step,l=i.steps,s=i.onAdd;return r.a.createElement(y.a,null,r.a.createElement(L.a,{title:u?u.title:"Etapa"},r.a.createElement(A.a,{onClick:this.handlePopover},r.a.createElement(ft.a,{variant:"static",value:this.getProgress(u),thickness:10}))),r.a.createElement(Ye.a,{open:n,onClose:this.handlePopover,anchorEl:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(Ze.a,null,l.map((function(t){return r.a.createElement(et.a,{key:t.uid,button:!0},r.a.createElement(vt,{step:t,onClick:function(n){return e.handleSelect(n,t)},onRemove:function(n){return e.handleRemove(n,t)}}))})),a?r.a.createElement(et.a,{key:"form-step"},r.a.createElement(w.a,{in:a},r.a.createElement(C.a,{item:!0},r.a.createElement(me.a,{fullWidth:!0},r.a.createElement(qe.a,null,"Etapa"),r.a.createElement(_e.a,{id:"title",value:c,onChange:this.handleChange,endAdornment:r.a.createElement(Ke.a,{position:"end"},r.a.createElement(A.a,{onClick:this.handleAdd},r.a.createElement(Ve.a,null)),r.a.createElement(A.a,{onClick:function(){return s({title:c})}},r.a.createElement($e.a,null)))}))))):r.a.createElement("div",null),r.a.createElement(et.a,{key:"add-step",button:!0,onClick:this.handleAdd},r.a.createElement(C.a,{id:"grid-step",container:!0,direction:"row",alignItems:"center",spacing:1},r.a.createElement(C.a,{item:!0},r.a.createElement(Ie.a,{color:"primary"})),r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{variant:"body1",color:"primary"},"Adicionar Etapa")))))))}}]),n}(r.a.Component);Et.defaultProps={step:null,steps:[]},Et.propsType={step:W.a.shape(ht),steps:W.a.arrayOf(W.a.shape(ht)),onAdd:W.a.func,onRemove:W.a.func,onSelect:W.a.func};var gt=Et,bt=n(63),Ot=n.n(bt),yt=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={element:null},a}return Object(f.a)(n,[{key:"getUser",value:function(e){for(var t,n=this.props.assignments,a=[],r=0;r<n.length;r+=1)(t=n[r]).rules.find((function(t){return t.uid===e.uid}))&&a.push(t.user);return a}},{key:"render",value:function(){var e=this,t=this.props,n=(t.assignments,t.rules);t.onChange;return r.a.createElement(C.a,{container:!0,direction:"row"},n.map((function(t){return r.a.createElement(C.a,{item:!0,key:t.uid},r.a.createElement(y.a,null,r.a.createElement(C.a,{container:!0,direction:"column",justify:"center",alignItems:"center"},r.a.createElement(C.a,{item:!0},r.a.createElement(Ct,{users:e.getUser(t)})),r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{variant:"body2",color:"textSecondary"},t.name)))))})))}}]),n}(r.a.Component),Ct=function(e){var t,n=e.users;return n.length>0&&void 0!==n[0]?(t=n[0].photoUrl?r.a.createElement(N.a,{src:n[0].photoUrl}):r.a.createElement(N.a,null,n[0].displayName.substring(0,1)),1===n.length?t:r.a.createElement(C.a,{container:!0,direction:"row",spacing:1},r.a.createElement(C.a,{item:!0},t),r.a.createElement(C.a,{item:!0},r.a.createElement(N.a,null,r.a.createElement(Ot.a,null))))):r.a.createElement(N.a,null)};yt.defaultProps={onChange:null};var jt=yt;function kt(e){var t=e.activity,n=e.steps,a=e.rules,o=e.onClick,c=e.onAddStep,i=e.onRemoveStep,u=e.onSelectStep,l=e.index;return r.a.createElement(y.a,{maxWidth:"lg"},r.a.createElement(C.a,{container:!0,direction:"row",spacing:3,alignItems:"center"},r.a.createElement(C.a,{item:!0},r.a.createElement(gt,{step:t.step,steps:n,onAdd:c,onRemove:i,onSelect:function(e){console.log("AAAAAAAAA"),u(t,e)}})),r.a.createElement(C.a,{item:!0,lg:!0},r.a.createElement(ve.a,{style:{textTransform:"none"},fullWidth:!0,onClick:function(){return o(t)}},r.a.createElement(y.a,null,r.a.createElement(C.a,{container:!0,justify:"space-between",alignItems:"center"},r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{variant:"h5"},t.title)),r.a.createElement(C.a,{item:!0},r.a.createElement(jt,{assignments:t.assignments,rules:a})))))),r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{variant:"body2",color:"textSecondary"},"#".concat(l)))))}kt.defaultProps={index:1,onAddStep:null,onRemoveStep:null,onSelectStep:null};var St=n(210),wt=n(201),At=n(101),xt=n.n(At);var Mt=function(e){var t=e.user;return r.a.createElement(C.a,{id:"grid-user",container:!0,direction:"row",alignItems:"center"},r.a.createElement(C.a,{item:!0},r.a.createElement(T,{account:t})),r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,null,t.displayName),r.a.createElement(y.a,{style:{padding:0}},t.role?r.a.createElement(C.a,{container:!0,direction:"row",spacing:1},r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{variant:"caption",color:"textSecondary"},t.role.title)),r.a.createElement(C.a,{item:!0},r.a.createElement(M.a,{orientation:"vertical"})),r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{variant:"caption",color:"textSecondary"},t.role.group.title))):r.a.createElement("div",null))))},Rt=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handlePopover=function(e){e.persist(),a.setState((function(t){return{element:e.target,isAdd:!t.isAdd}}))},a.handleModify=function(){a.setState((function(e){return{isChange:!e.isChange}}))},a.handleAdd=function(e){var t=a.props,n=t.rule,r=t.onAdd;a.setState((function(e){return{isAdd:!e.isAdd}})),r(n,e)},a.handleChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleRemove=function(e,t){e.persist();var n=a.props.onRemove;t&&n(t)},a.handleSelect=function(e,t){e.persist();var n=a.state.isChange,r=a.props.onSelect;t&&!n&&r(t)},a.state={isChange:!1,isAdd:!1,element:null},a}return Object(f.a)(n,[{key:"getUsers",value:function(){for(var e,t=this.props,n=t.assignments,a=t.rule,r=[],o=0;o<n.length;o+=1)(e=n[o]).rules.find((function(e){return e.uid===a.uid}))&&r.push(e.user);return r}},{key:"render",value:function(){var e=this,t=this.state,n=t.isChange,a=t.isAdd,o=t.element,c=this.props,i=c.rule,u=c.users;return r.a.createElement(y.a,null,r.a.createElement(C.a,{container:!0,direction:"column"},r.a.createElement(C.a,{item:!0},r.a.createElement(y.a,null,r.a.createElement(C.a,{container:!0,direction:"row",justify:"space-between",alignItems:"center"},r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{variant:"body2",color:"textSecondary"},"".concat(i.name))),r.a.createElement(C.a,{item:!0},r.a.createElement(A.a,{onClick:this.handleModify},r.a.createElement(Ot.a,null)))))),r.a.createElement(C.a,{item:!0},r.a.createElement(Ze.a,null,this.getUsers().map((function(t){return r.a.createElement(et.a,{button:!n,key:t.uid,onClick:function(n){return e.handleSelect(n,t)}},r.a.createElement(Mt,{user:t}),r.a.createElement(w.a,{in:n},r.a.createElement(A.a,{onClick:function(n){return e.handleRemove(n,t)}},r.a.createElement(xt.a,null))))})),n?r.a.createElement(w.a,{in:!a},r.a.createElement(C.a,{item:!0},r.a.createElement(ve.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(Ie.a,null),onClick:this.handlePopover,fullWidth:!0},r.a.createElement(x.a,{variant:"body2"},"Adicionar ".concat(i.name))))):r.a.createElement("div",null)),r.a.createElement(Ye.a,{anchorEl:o,open:a,onClose:this.handlePopover},r.a.createElement(Ze.a,null,u.map((function(t){return r.a.createElement(et.a,{button:!0,onClick:function(){return e.handleAdd(t)}},r.a.createElement(wt.a,{primary:t.displayName,secondary:t.role?t.role.title:""}))})))))))}}]),n}(r.a.Component);Rt.defaultProps={users:[]},Rt.propsType={assignments:W.a.arrayOf(W.a.shape(dt)).isRequired,rule:W.a.shape(Re).isRequired,users:W.a.arrayOf(W.a.shape(G)),onAdd:W.a.func,onRemove:W.a.func,onSelect:W.a.func};var Pt=Rt,It=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e){13!==e.keyCode?a.setState(Object(d.a)({},e.target.id,e.target.value)):a.handleUpdate(e)},a.handleModify=function(){var e=a.props.activity;a.setState((function(t){return{isChange:!t.isChange,title:e.title,description:e.description}}))},a.handleUpdate=function(e){e.persist(),e.preventDefault();var t=a.props,n=t.activity,r=t.onUpdate;13===e.keyCode&&r(Object(l.a)({},n,Object(d.a)({},e.target.id,a.state[e.target.id])))},a.handleSelectStep=function(e){var t=a.props,n=t.activity;(0,t.onSelectStep)(n,e)},a.state={title:"",description:"",isChange:!1},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.description,a=e.isChange,o=this.props,c=o.activity,i=o.rules,u=o.steps,l=o.users,s=o.open,p=o.onClose,m=o.onAddAssignment,d=o.onRemoveAssignment,h=o.onSelectAssignment,f=o.onAddStep,v=o.onRemoveStep;return c?r.a.createElement(St.a,{variant:"persistent",anchor:"right",open:s,onClose:p},r.a.createElement(C.a,{container:!0,direction:"column",spacing:4},r.a.createElement(C.a,{item:!0},r.a.createElement(gt,{step:c.step,steps:u,onAdd:f,onRemove:v,onSelect:this.handleSelectStep})),r.a.createElement(C.a,{item:!0},r.a.createElement(y.a,null,r.a.createElement(C.a,{container:!0,direction:"row",justify:"space-between"},r.a.createElement(C.a,{item:!0,xs:!0},r.a.createElement(y.a,null,a?r.a.createElement(de.a,{id:"title",fullWidth:!0,value:t,label:"T\xedtulo",onChange:this.handleChange,onKeyUp:this.handleUpdate}):r.a.createElement(x.a,{variant:"h5"},"".concat(c.title))),r.a.createElement(y.a,null,a?r.a.createElement(de.a,{id:"description",multiline:!0,fullWidth:!0,value:n,label:"Descri\xe7\xe3o",onKeyUp:this.handleChange}):r.a.createElement(x.a,{variant:"body2"},"".concat(c.description?c.description:"")))),r.a.createElement(C.a,{item:!0},r.a.createElement(y.a,null,r.a.createElement(A.a,{onClick:this.handleModify},r.a.createElement(Ot.a,null))))))),i.map((function(e){return r.a.createElement(C.a,{item:!0,key:e.uid},r.a.createElement(M.a,{light:!0}),r.a.createElement(Pt,{rule:e,assignments:c.assignments,users:l,onAdd:m,onRemove:d,onSelect:h}))})))):r.a.createElement(St.a,{variant:"persistent",anchor:"right",open:s,onClose:p})}}]),n}(r.a.Component);It.defaultProps={rules:[],steps:[],users:[],open:!1};var Nt=It,Lt=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(d.a)({},e.target.id,e.target.value))},a.handleSelect=function(e){a.setState({selectedActivity:e,isDetailOpen:!0})},a.handleClose=function(){a.setState({isDetailOpen:!1})},a.state={selectedActivity:null,isDetailOpen:!1},a}return Object(f.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.selectedActivity,a=t.isDetailOpen,o=this.props,c=o.activities,i=o.rules,u=o.steps,l=o.users,s=o.onAddStep,p=o.onRemoveStep,m=o.onSelectStep,d=o.onUpdate;return r.a.createElement(y.a,null,r.a.createElement(C.a,{container:!0},r.a.createElement(C.a,{item:!0,md:!0},r.a.createElement(Ze.a,null,c.map((function(t,n){return r.a.createElement(et.a,{key:t.uid},r.a.createElement(kt,{activity:t,rules:i,steps:u,index:n+1,onClick:e.handleSelect,onAddStep:s,onRemoveStep:p,onSelectStep:m}),r.a.createElement(M.a,null))})),r.a.createElement(et.a,{key:"button"},r.a.createElement(ve.a,{variant:"outlined",color:"primary",startIcon:r.a.createElement(Ie.a,null),onClick:function(){return e.handleSelect({title:"",description:"",step:{},assignments:[]})},fullWidth:!0},r.a.createElement(x.a,{variant:"body2"},"Adicionar Atividade"))))),r.a.createElement(C.a,{item:!0},r.a.createElement(Nt,{open:a,activity:n,rules:i,steps:u,onClose:this.handleClose,users:l,onUpdate:d,onAddAssignment:null,onRemoveAssignment:null,onSelectAssignment:null,onAddStep:s,onRemoveStep:p,onSelectStep:m}))))}}]),n}(r.a.Component);Lt.defaultProps={activities:[],rules:[],steps:[]};var Bt=Lt,Wt={add:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("rules").add(t);case 2:return e.abrupt("return",e.sent.get().then((function(e){return e})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("rules").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sync:function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("rules").onSnapshot((function(e){var a=[];e.forEach((function(e){return a.push(Object(l.a)({},e.data(),{uid:e.id}))})),n(t,a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getById:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("rules").doc(t).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),syncById:function(){var e=Object(O.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("rules").doc(a).onSnapshot((function(e){n(t,Object(l.a)({},e.data(),{uid:e.id}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("rules").doc(t.uid).set(Object(l.a)({},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Gt={add:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m.collection("steps").add(t);case 2:return e.abrupt("return",e.sent.get().then((function(e){return e})));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),get:function(){var e=Object(O.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("steps").get());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),sync:function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("steps").onSnapshot((function(e){var a=[];e.forEach((function(e){return a.push(Object(l.a)({},e.data(),{uid:e.id}))})),n(t,a)})));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getById:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("steps").doc(t).get());case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),syncById:function(){var e=Object(O.a)(b.a.mark((function e(t,n,a){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("steps").doc(a).onSnapshot((function(e){n(t,Object(l.a)({},e.data(),{uid:e.id}))})));case 1:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),update:function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",m.collection("steps").doc(t.uid).set(Object(l.a)({},t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Dt=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e,t,n){if(n){var r=a.state[e];r[n]=t||void 0,a.setState(Object(d.a)({},e,r))}else a.setState(Object(d.a)({},e,t||void 0))},a.handleChangeActivity=function(e,t){var n=a.state.activities;n[e]=t||void 0,a.setState({activities:n})},a.handleAdd=function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=a.state.raci,mt.add(t).then((function(e){n.activities.push(e.ref),He.update(n)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRemove=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleAddStep=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gt.add(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleRemoveGroup=function(){var e=Object(O.a)(b.a.mark((function e(t){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSelectStep=function(){var e=Object(O.a)(b.a.mark((function e(t,n){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Gt.getById(n.uid).then((function(e){e&&(t.step=Object(l.a)({},e.data(),{uid:e.id}),mt.update(t))}));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),a.state={raci:null,activities:[],rules:[],steps:[],users:[]},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;He.syncById("raci",(function(t,n){e.setState({raci:n}),n&&n.activities.map((function(t,n){return mt.syncById(n,e.handleChangeActivity,t.id)}))}),t.params.raci),Gt.sync("steps",this.handleChange),Wt.sync("rules",this.handleChange),Ue.sync("users",this.handleChange)}},{key:"render",value:function(){var e=this.state,t=e.activities,n=e.rules,a=e.steps,o=e.users;return r.a.createElement(Bt,{activities:t,rules:n,steps:a,users:o,onUpdate:this.handleAdd,onAddStep:this.handleAddStep,onSelectStep:this.handleSelectStep})}}]),n}(r.a.Component),Tt=n(102),Ut=n.n(Tt),Ht=n(204),zt=n(202),Ft=n(203);function qt(e){var t=e.item,n=t.title,a=t.key,o=t.icon,c=t.state,i=e.onClick,u="SELECTED"===c?"primary":"inherit";return r.a.createElement(et.a,{key:a,button:!0,onClick:i},r.a.createElement(zt.a,null,r.a.createElement(Ft.a,{color:u},o)),r.a.createElement(wt.a,null,r.a.createElement(x.a,{color:u},n)))}function _t(e){var t=e.items,n=e.title,a=e.onClick;return r.a.createElement(Ze.a,{"aria-labelledby":"nested-list-subheader",subheader:n?r.a.createElement(Ht.a,null,n):r.a.createElement("div",null)},t.map((function(e){return r.a.createElement(qt,{item:e,onClick:function(){return a(e)}})})))}qt.defaultProps={item:{title:"",key:"",icon:r.a.createElement("div",null),state:"NOT_SELECTED"},onClick:null},_t.defaultProps={items:[],title:null,onClick:null};Object(j.a)((function(){return{spacer:{flexGrow:1},root:{display:"flex"}}}));function Kt(e){var t=e.title,n=e.open,a=e.funcs,o=e.options,c=e.onClose,i=e.onSelectFuncs,u=e.onSelectOptions;return r.a.createElement(St.a,{variant:"persistent",anchor:"left",open:n},r.a.createElement(y.a,null,r.a.createElement(C.a,{alignItems:"center",container:!0,direction:"row",justify:"space-between",spacing:2},r.a.createElement(C.a,{item:!0},r.a.createElement(x.a,{variant:"h4"},"".concat(t))),r.a.createElement(C.a,null,r.a.createElement(A.a,{onClick:c},r.a.createElement(Ut.a,null))))),r.a.createElement(M.a,null),r.a.createElement(_t,Object.assign({},a,{onClick:i})),r.a.createElement(M.a,null),r.a.createElement(_t,Object.assign({},o,{onClick:u})))}Kt.defaultProps={title:""};var Jt=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).accountHandler=function(e){console.log(e)},a.accountMenuHandler=function(e){e.persist(),a.setState((function(t){return{accountMenuElement:e.target,isAccountMenuOpen:!t.isAccountMenuOpen}}))},a.notificationMenuHandler=function(e){e.persist(),a.setState((function(t){return{notiticationMenuElement:e.target,isNotitificationMenuOpen:!t.isNotitificationMenuOpen}}))},a.sideMenuHandler=function(){a.setState((function(e){return{isSideMenuOpen:!e.isSideMenuOpen}}))},a.loginHandler=function(){a.setState((function(e){return{isLoginPopupOpen:!e.isLoginPopupOpen}}))},a.signupHandler=function(){a.loginHandler(),a.setState((function(e){return{isSignupPopupOpen:!e.isSignupPopupOpen}}))},a.recoveryHandler=function(){a.loginHandler(),a.setState((function(e){return{isRecoveryPopupOpen:!e.isRecoveryPopupOpen}}))},a.handleLogin=function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.onLogin,e.next=3,n(t);case 3:e.sent&&a.loginHandler();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handleSignup=function(){var e=Object(O.a)(b.a.mark((function e(t){var n;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.props.onSignup,e.next=3,n(t);case 3:e.sent&&(a.signupHandler(),a.loginHandler());case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),a.handlePhoto=function(e){console.log(e)},a.handleRecovery=function(e){console.log(e)},a.handleMenu=function(e){var t=a.props,n=t.history,r=t.match;n.push("/".concat(r.params.raci,"/").concat(e.key))},a.state={accountMenuElement:null,notiticationMenuElement:null,isSideMenuOpen:!1,isAccountMenuOpen:!1,isNotitificationMenuOpen:!1,isLoginPopupOpen:!1,isSignupPopupOpen:!1,isRecoveryPopupOpen:!1},a.accountMenuElementRef=r.a.createRef(),a}return Object(f.a)(n,[{key:"render",value:function(){var e=this.state,t=e.accountMenuElement,n=e.notiticationMenuElement,a=e.isAccountMenuOpen,o=e.isNotitificationMenuOpen,c=e.isSideMenuOpen,u=e.isLoginPopupOpen,l=e.isSignupPopupOpen,s=e.isRecoveryPopupOpen,p=this.props,m=p.user,d=p.amountNotification,h=p.matrices,f=p.notifications,v=p.stateLogin,E=p.raci,g=p.onLogout;return r.a.createElement(y.a,{ref:this.accountMenuElementRef},r.a.createElement(C.a,{container:!0,direction:"column",spacing:10},r.a.createElement(C.a,{item:!0},r.a.createElement(ee,{account:m,amountNotifications:d,stateLogin:v,title:E.title,users:E.users,onAccount:this.accountMenuHandler,onLogin:this.loginHandler,onNotification:this.notificationMenuHandler,onSideMenu:this.sideMenuHandler,isSideMenu:c})),r.a.createElement(C.a,{item:!0},r.a.createElement(i.c,null,r.a.createElement(i.a,{strict:!0,path:"/:raci/users"},r.a.createElement(ze,{users:E.users,raci:E})),r.a.createElement(i.a,{strict:!0,path:"/:raci/roles",component:pt}),r.a.createElement(i.a,{strict:!0,path:"/:raci/activities",component:Dt})))),r.a.createElement(re,{element:t,matrices:h,open:a,onAccount:this.accountHandler,onClose:this.accountMenuHandler,onExit:g}),r.a.createElement(ce,{element:n,notifications:f,open:o,onClose:this.notificationMenuHandler}),r.a.createElement(ye,{open:u,onClose:this.loginHandler,onCreateA:this.signupHandler,onLogin:this.handleLogin,onPasswordR:this.recoveryHandler}),r.a.createElement(Ae,{open:l,onBack:this.signupHandler,onClose:function(){},onSignup:this.handleSignup,onPhoto:this.handlePhoto}),r.a.createElement(Me,{open:s,onBack:this.recoveryHandler,onClose:function(){},onRecovery:this.handleRecovery}),r.a.createElement(Kt,{open:c,onClose:this.sideMenuHandler,title:E.title,funcs:{items:[{title:"Lista",key:"activities",icon:r.a.createElement("div",null),state:"NOT_SELECTED"},{title:"Usu\xe1rios",key:"users",icon:r.a.createElement("div",null),state:"NOT_SELECTED"},{title:"Cargos",key:"roles",icon:r.a.createElement("div",null),state:"NOT_SELECTED"}]},onSelectFuncs:this.handleMenu}))}}]),n}(r.a.Component);Jt.defaultProps={user:null,amountNotification:0,matrices:[],notifications:[],stateLogin:"NOT_LOGGED",raci:{title:"Minha Matriz RACI",users:[]}};var $t=Object(i.f)(Jt),Qt=function(e){Object(E.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=function(e,t){a.setState(Object(d.a)({},e,t||void 0))},a.state={stateLogin:"NOT_LOGGED",user:null,raci:void 0},a}return Object(f.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.match;p.a.auth().onAuthStateChanged((function(t){e.setState({stateLogin:t?"LOGGED":"NOT_LOGGED",user:t})})),t.params.raci&&He.syncById("raci",this.handleChange,t.params.raci)}},{key:"render",value:function(){var e=this.state,t=e.stateLogin,n=e.user,a=e.raci;return r.a.createElement($t,{stateLogin:t,user:n,raci:a,onLogin:Ue.login,onSignup:Ue.signup,onLogout:Ue.logout})}}]),n}(r.a.Component);p.a.app,c.a.render(r.a.createElement(u.a,null,r.a.createElement(i.c,null,r.a.createElement(i.a,{path:"/:raci?",component:Qt}))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[115,1,2]]]);
//# sourceMappingURL=main.93115e0e.chunk.js.map